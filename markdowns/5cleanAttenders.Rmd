---
title: "attendersCleaning"
author: "Dave Lovell"
date: "05/03/2020"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```
```{r libraries5}
library("magrittr")
library("readr")
library("here")
library("dplyr")
```
## Cleaning the 2018 Attenders Responses

This should be way easier than the leaders responses - attenders data is already clean. Most of the work will go into correctly interpretting the numerical codes used in the original file.

### Read CSV

```{R readTheAttendersCSV}
attenders <- readr::read_csv(here::here("data/attenders2018Unclean.csv"))
```

### Rename

Also dropping `DioceseID`

```{r renamingAttenders}
# Change some names -------------------------------------
attenders %<>%
  select("fxc" = PlantName,
         Gender,
         "age" = AgeGroup,
         Regularity,
         Ethnicity,
         Class1,
         Class2,
         "moreTenYears" = `>10 years`,
         christian = `Christian?`,
         "becameHere" = `Became Christian here?`)

# Everything lowercase ----------------------------------
attenders %<>%  rename_all(tolower)
```

### Look at data

```{r lookAtCols}
attenders %>%
  select(-fxc) %>%
  sapply(unique)
```

Before we go any further, it would be helpful to know what's in the original survey.

#### Survey Questions

##### Kids survey

|Question|Type|Responses|
|---|---|---|---|
|Are you a boy or a girl?|Multiple Choice|`Boy` `Girl`|
|How old are you?|Text|`NA`|
|How often do you come to [fxc]?|Multiple Choice|`Almost always` `about half the time` `A few times a year` `This is my first or second time` `I'm just visiting today as a one-off`|
|Before being part of [fxc]...|Multiple Choice|`I was not part of another church because I didn't go to church` `I had a big gap between my last church and being part of [fxc]` `I moved straight to [fxc] from my last church` `I am part of a church as well as [fxc]`|
|Why did you start coming to [fxc]?|Multiple Choice w/ text|`We moved to the area` ` My family or I were part of the team that came to start this church` `My family or I changed church and decided this was better for us` `I stated coming to [fxc] before I was 5 years old` `A different reason (please write it down):`|